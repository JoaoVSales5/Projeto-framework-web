<!DOCTYPE html>
<html>
<head>
    <title>Opções</title>
    <link rel="stylesheet" href="../static/opcao.css">
    <style>
        header { text-align: center; }
        .sub-options {
            display: none;
        }
        table {
            display: none;
        }
        .visible {
            display: block;
        }
        form {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Teste de framework</h1>
        <h2>Opções</h2>
    </header>

    <p>Olá {{ nome }}</p>

    <button onclick="toggleOptions('funcionarios')">Funcionários</button>
    <div class="sub-options" id="funcionarios">
        <button onclick="showTable('tabelaFuncionarios')">Consultar funcionário</button>
        <table id="tabelaFuncionarios" class="table">
            <tr>
                <th>
                    CPF
                </th>
                {%for dado in dadosf%}
                <td>
                    {{dado[0]}}
                </td>
                {%endfor%}
            </tr>

            <tr>
                <th>
                    Nome
                </th>
                {%for dado in dadosf%}
                <td>
                    {{dado[1]}}
                </td>
                {%endfor%}
            </tr>

            <tr>
                <th>
                    Função
                </th>
                {%for dado in dadosf%}
                <td>
                    {{dado[2]}}
                </td>
                {%endfor%}
            </tr>
        </table>

        <button onclick="showForm('formFuncionarios')">Adicionar funcionário</button>
            <form id="formFuncionarios" class="form">
                <label for="cpf">CPF:</label><br>
                <input type="text" id="cpf" name="cpf"><br>
                <label for="nome">Nome:</label><br>
                <input type="text" id="nome" name="nome">
            </form>
        <button>Atualizar dados do funcionário</button>

    </div>

    <br><br>

    <button onclick="toggleOptions('produtos')">Produtos</button>
    <div class="sub-options" id="produtos">
        <button onclick="showTable('tabelaProdutos')">Consultar produto</button>
        <table id="tabelaProdutos" class="table">
            <tr>
                <th>
                    Código
                </th>
                {%for dado in dadosp%}
                <td>
                    {{dado[0]}}
                </td>
                {%endfor%}
            </tr>

            <tr>
                <th>
                    Nome
                </th>
                {%for dado in dadosp%}
                <td>
                    {{dado[1]}}
                </td>
                {%endfor%}
            </tr>

            <tr>
                <th>
                    Tipo
                </th>
                {%for dado in dadosp%}
                <td>
                    {{dado[2]}}
                </td>
                {%endfor%}
            </tr>
        </table>

        <button>Adicionar produto</button>
        <button>Atualizar dados do produto</button>

    </div>

    <script>
        function toggleOptions(id) {
            var options = document.getElementById(id);
            var tables = options.getElementsByTagName("table");
            var form = options.getElementsByTagName("form");

            for (var i = 0; i < tables.length; i++) {
                tables[i].classList.remove('visible');
            }

            options.classList.toggle('visible');
        }

        function showTable(tableId) {
            var table = document.getElementById(tableId);
            table.classList.toggle('visible');
        }

        function showForm(formId) {
            var form = document.getElementById(formId);
            form.classList.toggle('visible');
        }
    </script>

    <br><br>

    <div id="sair"><a href="/logout">Sair</a></div>

</body>
</html>
